schema: '2.0'
stages:
  ingest:
    cmd: python -m src.data.ingest --input data/raw/water_potability.csv 
      --output data/processed/water_potability.csv
    deps:
    - path: data/raw/water_potability.csv
      hash: md5
      md5: a5eeae83d792e40da6c2f9e1eab945fc
      size: 525187
    - path: src/data/ingest.py
      hash: md5
      md5: deb61de0b0e9a28a137be2832f3c7b80
      size: 700
    outs:
    - path: data/processed/water_potability.csv
      hash: md5
      md5: a5eeae83d792e40da6c2f9e1eab945fc
      size: 525187
  preprocess:
    cmd: python -m src.data.preprocess --params configs/params.yaml
    deps:
    - path: configs/params.yaml
      hash: md5
      md5: fe4c078640b0d9d5379f794f441184a1
      size: 593
    - path: data/processed/water_potability.csv
      hash: md5
      md5: a5eeae83d792e40da6c2f9e1eab945fc
      size: 525187
    - path: src/data/preprocess.py
      hash: md5
      md5: 71f0746df1fc8b9069dffab76f992eb8
      size: 3916
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: 74a05764f946ead1a0ab3add13ce8c1b
      size: 118556
    - path: data/processed/train.csv
      hash: md5
      md5: 79e20acbfe76e65358572fbee354f8f5
      size: 414033
    - path: data/processed/transformer.joblib
      hash: md5
      md5: c354d36c7f1b63506e1bdee047eb01ff
      size: 2616
    - path: data/processed/val.csv
      hash: md5
      md5: e08563a562b21f6a4589eb9081a77977
      size: 59295
  train:
    cmd: python -m src.models.train --params configs/params.yaml
    deps:
    - path: configs/params.yaml
      hash: md5
      md5: fe4c078640b0d9d5379f794f441184a1
      size: 593
    - path: data/processed/train.csv
      hash: md5
      md5: 79e20acbfe76e65358572fbee354f8f5
      size: 414033
    - path: data/processed/val.csv
      hash: md5
      md5: e08563a562b21f6a4589eb9081a77977
      size: 59295
    - path: src/models/train.py
      hash: md5
      md5: f49b8cac0172978ce7e33e1920c27618
      size: 4437
    outs:
    - path: app/model_registry/model.joblib
      hash: md5
      md5: 4d8e2d43b23c5db123e589787b4b3a59
      size: 15487193
    - path: artifacts/metrics/train_metrics.json
      hash: md5
      md5: c43e8da02a180edaf981839b4d25a457
      size: 156
  evaluate:
    cmd: python -m src.models.evaluate --params configs/params.yaml
    deps:
    - path: app/model_registry/model.joblib
      hash: md5
      md5: 4d8e2d43b23c5db123e589787b4b3a59
      size: 15487193
    - path: configs/params.yaml
      hash: md5
      md5: fe4c078640b0d9d5379f794f441184a1
      size: 593
    - path: data/processed/test.csv
      hash: md5
      md5: 74a05764f946ead1a0ab3add13ce8c1b
      size: 118556
    - path: src/models/evaluate.py
      hash: md5
      md5: 109bebe2b20cb7cf9ef17bfa0250e999
      size: 2150
    outs:
    - path: artifacts/metrics/test_metrics.json
      hash: md5
      md5: 82456304b6f30b8742af8f239f40a376
      size: 101
    - path: artifacts/plots/confusion_matrix.png
      hash: md5
      md5: dd513ba172b2fda3856d98bd27ce9985
      size: 22968
    - path: artifacts/plots/roc_curve.png
      hash: md5
      md5: 4940089df2d3dfa248f1611f3255862e
      size: 36881
